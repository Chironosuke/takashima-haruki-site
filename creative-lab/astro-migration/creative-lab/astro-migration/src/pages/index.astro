---
// src/pages/index.astro
import "../styles/global.css";
---

<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>クリエイティブラボ - 髙島春樹</title>
    <meta
      name="description"
      content="最新のWeb技術と創造性を融合させ、革新的なデジタルソリューションを提供します。"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body
    class="font-sans overflow-x-hidden leading-relaxed transition-theme"
    style="background: var(--body-bg); color: var(--body-color)"
  >
    <!-- テーマ切り替えボタン -->
    <button
      class="c-theme-toggle-button js-theme-toggle fixed top-24 right-8 z-50 glass-bg border-2 border-accent-gold rounded-full px-4 py-3 cursor-pointer transition-theme shadow-glass flex items-center gap-2 text-sm font-semibold text-white dark:text-primary-dark backdrop-blur-lg hover:transform hover:-translate-y-1 hover:shadow-glass"
      id="themeToggle"
      aria-label="テーマを切り替える"
    >
      <span class="c-theme-toggle-button__icon text-lg">🌟</span>
      <span class="c-theme-toggle-button__text">ライト</span>
    </button>

    <header
      class="l-header fixed top-0 left-0 right-0 z-40 px-8 py-4 bg-primary-dark/90 dark:bg-white/95 backdrop-blur-xl border-b border-white/20 dark:border-gray-200 transition-theme"
    >
      <nav
        class="c-primary-navigation js-navigation flex justify-between items-center max-w-7xl mx-auto"
      >
        <a
          href="/"
          class="c-brand-logo text-2xl font-bold bg-gradient-to-r from-yellow-500 via-accent-gold to-yellow-500 bg-clip-text text-transparent no-underline"
          >髙島春樹</a
        >
        <ul class="c-primary-navigation__list hidden lg:flex list-none gap-8">
          <li>
            <a
              href="#top"
              class="c-primary-navigation__link text-white dark:text-primary-dark no-underline font-medium transition-theme relative hover:text-accent-gold after:content-[''] after:absolute after:-bottom-1 after:left-0 after:w-0 after:h-0.5 after:bg-gradient-to-r after:from-yellow-500 after:to-accent-gold after:transition-all after:duration-300 hover:after:w-full"
              >Home</a
            >
          </li>
          <li>
            <a
              href="#services"
              class="c-primary-navigation__link text-white dark:text-primary-dark no-underline font-medium transition-theme relative hover:text-accent-gold after:content-[''] after:absolute after:-bottom-1 after:left-0 after:w-0 after:h-0.5 after:bg-gradient-to-r after:from-yellow-500 after:to-accent-gold after:transition-all after:duration-300 hover:after:w-full"
              >Services</a
            >
          </li>
          <li>
            <a
              href="#pricing-simulator"
              class="c-primary-navigation__link text-white dark:text-primary-dark no-underline font-medium transition-theme relative hover:text-accent-gold after:content-[''] after:absolute after:-bottom-1 after:left-0 after:w-0 after:h-0.5 after:bg-gradient-to-r after:from-yellow-500 after:to-accent-gold after:transition-all after:duration-300 hover:after:w-full"
              >コーディング料金</a
            >
          </li>
          <li>
            <a
              href="#blog-section"
              class="c-primary-navigation__link text-white dark:text-primary-dark no-underline font-medium transition-theme relative hover:text-accent-gold after:content-[''] after:absolute after:-bottom-1 after:left-0 after:w-0 after:h-0.5 after:bg-gradient-to-r after:from-yellow-500 after:to-accent-gold after:transition-all after:duration-300 hover:after:w-full"
              >Blog</a
            >
          </li>
          <li>
            <a
              href="#contact"
              class="c-primary-navigation__link text-white dark:text-primary-dark no-underline font-medium transition-theme relative hover:text-accent-gold after:content-[''] after:absolute after:-bottom-1 after:left-0 after:w-0 after:h-0.5 after:bg-gradient-to-r after:from-yellow-500 after:to-accent-gold after:transition-all after:duration-300 hover:after:w-full"
              >Contact</a
            >
          </li>
        </ul>
        <a
          href="/"
          class="c-back-button hidden lg:block text-white dark:text-primary-dark no-underline font-medium transition-theme hover:text-accent-gold"
          >← Main Site</a
        >
        <button
          class="c-mobile-menu-toggle js-mobile-menu-toggle lg:hidden bg-transparent border-none text-white dark:text-primary-dark text-2xl cursor-pointer z-50 relative"
          id="mobileMenuBtn"
        >
          ☰
        </button>
      </nav>
    </header>

    <!-- モバイルナビゲーション -->
    <nav
      class="c-mobile-navigation js-mobile-navigation fixed top-0 -left-full w-full h-screen bg-primary-dark/98 dark:bg-white/98 backdrop-blur-xl z-40 transition-all duration-300 pt-20 overflow-y-auto"
      id="mobileNav"
    >
      <ul
        class="c-mobile-navigation__list list-none px-8 py-8 flex flex-col gap-8"
      >
        <li>
          <a
            href="#top"
            class="c-mobile-navigation__link text-white dark:text-primary-dark no-underline text-xl font-medium transition-theme hover:text-accent-gold"
            onclick="closeMobileMenu()">Home</a
          >
        </li>
        <li>
          <a
            href="#services"
            class="c-mobile-navigation__link text-white dark:text-primary-dark no-underline text-xl font-medium transition-theme hover:text-accent-gold"
            onclick="closeMobileMenu()">Services</a
          >
        </li>
        <li>
          <a
            href="#pricing-simulator"
            class="c-mobile-navigation__link text-white dark:text-primary-dark no-underline text-xl font-medium transition-theme hover:text-accent-gold"
            onclick="closeMobileMenu()">コーディング料金</a
          >
        </li>
        <li>
          <a
            href="#blog-section"
            class="c-mobile-navigation__link text-white dark:text-primary-dark no-underline text-xl font-medium transition-theme hover:text-accent-gold"
            onclick="closeMobileMenu()">Blog</a
          >
        </li>
        <li>
          <a
            href="#contact"
            class="c-mobile-navigation__link text-white dark:text-primary-dark no-underline text-xl font-medium transition-theme hover:text-accent-gold"
            onclick="closeMobileMenu()">Contact</a
          >
        </li>
        <li>
          <a
            href="/"
            class="c-mobile-navigation__link text-white dark:text-primary-dark no-underline text-xl font-medium transition-theme hover:text-accent-gold"
            onclick="closeMobileMenu()">← Main Site</a
          >
        </li>
      </ul>
    </nav>

    <main class="l-main mt-20" id="top">
      <!-- Hero Section -->
      <section
        class="c-hero-section relative h-screen min-h-screen overflow-hidden flex items-center justify-center transition-theme"
        style="background: var(--hero-bg)"
      >
        <div
          class="c-hero-section__container grid lg:grid-cols-2 gap-16 items-center max-w-6xl w-full px-8"
        >
          <div class="c-hero-section__content z-10">
            <h1
              class="c-hero-section__title text-4xl lg:text-6xl font-extralight mb-4 bg-gradient-to-r from-yellow-500 via-accent-gold to-yellow-500 bg-clip-text text-transparent"
            >
              Creative Lab
              <span
                class="c-hero-section__subtitle block text-lg lg:text-2xl font-light mb-8 transition-theme"
                style="color: var(--body-color)">Technology × Creativity</span
              >
            </h1>
            <p
              class="c-hero-section__description text-lg lg:text-xl font-light mb-8 leading-relaxed transition-theme"
              style="color: var(--text-gray)"
            >
              最新のWeb技術と創造性を融合させ、<br />
              革新的なデジタルソリューションを提供します。
            </p>
            <div class="c-hero-section__actions flex gap-4">
              <a
                href="#pricing-simulator"
                class="c-button c-button--variant-filled inline-flex items-center px-8 py-4 border-none rounded-full text-lg font-semibold cursor-pointer transition-theme no-underline gap-2 gradient-primary text-white hover:transform hover:-translate-y-1 hover:shadow-soft"
              >
                コーディング料金を確認
              </a>
              <a
                href="#contact"
                class="c-button c-button--variant-outline inline-flex items-center px-8 py-4 border-2 glass-border rounded-full text-lg font-semibold cursor-pointer transition-theme no-underline gap-2 glass-bg text-white dark:text-primary-dark hover:transform hover:-translate-y-1 hover:shadow-soft"
              >
                お問い合わせ
              </a>
            </div>
          </div>
          <div class="c-hero-section__visual flex items-center justify-center">
            <div
              class="c-code-animation js-code-animation glass-bg rounded-2xl p-8 backdrop-blur-lg border glass-border transition-theme"
            >
              <div
                class="c-code-animation__line font-mono text-lg text-green-400 dark:text-blue-600 mb-2 opacity-0"
                data-text="const creativity = new Innovation();"
              >
              </div>
              <div
                class="c-code-animation__line font-mono text-lg text-green-400 dark:text-blue-600 mb-2 opacity-0"
                data-text="creativity.combine(music, technology);"
              >
              </div>
              <div
                class="c-code-animation__line font-mono text-lg text-green-400 dark:text-blue-600 mb-2 opacity-0"
                data-text="return creativity.build();"
              >
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Services Overview -->
      <section
        id="services"
        class="c-services-overview-section py-24 transition-theme"
        style="background: var(--section-bg)"
      >
        <div class="l-container max-w-6xl mx-auto px-8">
          <h2
            class="c-section-title text-center text-4xl font-light mb-12 gradient-primary bg-clip-text text-transparent"
          >
            Services
          </h2>
          <div
            class="c-services-overview-section__grid grid lg:grid-cols-2 gap-12 mt-16"
          >
            <div
              class="c-service-card c-service-card--type-web-development glass-bg backdrop-blur-xl border glass-border rounded-3xl p-12 transition-theme relative overflow-hidden hover:transform hover:-translate-y-2 hover:shadow-glass"
            >
              <div class="c-service-card__icon text-5xl mb-6 block">🌐</div>
              <h3
                class="c-service-card__title text-2xl font-semibold mb-4 transition-theme"
                style="color: var(--body-color)"
              >
                Web Development
              </h3>
              <p
                class="c-service-card__description mb-8 leading-relaxed transition-theme"
                style="color: var(--text-gray)"
              >
                HTML/CSS、JavaScript、Astroを活用したモダンで高速なWebサイト制作。レスポンシブ対応とパフォーマンス最適化を重視したソリューションを提供します。
              </p>
              <ul class="c-service-card__feature-list list-none mb-8">
                <li
                  class="c-service-card__feature-item mb-2 pl-4 relative transition-theme before:content-['✓'] before:absolute before:left-0 before:text-primary-emerald before:font-bold"
                  style="color: var(--text-gray)"
                >
                  レスポンシブWebサイト制作
                </li>
                <li
                  class="c-service-card__feature-item mb-2 pl-4 relative transition-theme before:content-['✓'] before:absolute before:left-0 before:text-primary-emerald before:font-bold"
                  style="color: var(--text-gray)"
                >
                  コーポレートサイト開発
                </li>
                <li
                  class="c-service-card__feature-item mb-2 pl-4 relative transition-theme before:content-['✓'] before:absolute before:left-0 before:text-primary-emerald before:font-bold"
                  style="color: var(--text-gray)"
                >
                  ランディングページ制作
                </li>
                <li
                  class="c-service-card__feature-item mb-2 pl-4 relative transition-theme before:content-['✓'] before:absolute before:left-0 before:text-primary-emerald before:font-bold"
                  style="color: var(--text-gray)"
                >
                  パフォーマンス最適化
                </li>
              </ul>
            </div>

            <div
              class="c-service-card c-service-card--type-education glass-bg backdrop-blur-xl border glass-border rounded-3xl p-12 transition-theme relative overflow-hidden hover:transform hover:-translate-y-2 hover:shadow-glass"
            >
              <div class="c-service-card__icon text-5xl mb-6 block">🎓</div>
              <h3
                class="c-service-card__title text-2xl font-semibold mb-4 transition-theme"
                style="color: var(--body-color)"
              >
                Technical Education
              </h3>
              <p
                class="c-service-card__description mb-8 leading-relaxed transition-theme"
                style="color: var(--text-gray)"
              >
                HTML/CSS、JavaScript等のフロントエンド技術研修。企業研修から個人指導まで、幅広い教育サービスを提供しています。
              </p>
              <ul class="c-service-card__feature-list list-none mb-8">
                <li
                  class="c-service-card__feature-item mb-2 pl-4 relative transition-theme before:content-['✓'] before:absolute before:left-0 before:text-primary-emerald before:font-bold"
                  style="color: var(--text-gray)"
                >
                  企業向け技術研修
                </li>
                <li
                  class="c-service-card__feature-item mb-2 pl-4 relative transition-theme before:content-['✓'] before:absolute before:left-0 before:text-primary-emerald before:font-bold"
                  style="color: var(--text-gray)"
                >
                  個人メンタリング
                </li>
                <li
                  class="c-service-card__feature-item mb-2 pl-4 relative transition-theme before:content-['✓'] before:absolute before:left-0 before:text-primary-emerald before:font-bold"
                  style="color: var(--text-gray)"
                >
                  ワークショップ開催
                </li>
                <li
                  class="c-service-card__feature-item mb-2 pl-4 relative transition-theme before:content-['✓'] before:absolute before:left-0 before:text-primary-emerald before:font-bold"
                  style="color: var(--text-gray)"
                >
                  オンライン講座
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- コーディング料金シミュレーター -->
      <section
        id="pricing-simulator"
        class="c-pricing-simulator-section py-32 relative my-8 transition-theme"
        style="background: var(--body-bg)"
      >
        <div class="l-container max-w-6xl mx-auto px-8">
          <!-- セクションヘッダー -->
          <div class="c-section-header text-center mb-16">
            <h2
              class="c-section-title text-4xl font-light mb-4 gradient-primary bg-clip-text text-transparent"
            >
              コーディング料金シミュレーター
            </h2>
            <p
              class="c-section-subtitle text-lg text-text-gray dark:text-gray-600 max-w-2xl mx-auto transition-theme"
            >
              3つの簡単な質問で、Webサイトコーディングの概算料金をすぐに確認。<br
              />
              詳細な仕様やご要望は無料相談で丁寧にお伺いします。
            </p>
          </div>

          <!-- シミュレーターカード -->
          <div
            class="c-simulator-card c-fade-in-animation glass-bg backdrop-blur-xl border glass-border rounded-3xl overflow-hidden shadow-glass relative transition-theme before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:h-1 before:gradient-primary"
          >
            <div
              class="c-simulator-content grid lg:grid-cols-[1fr_350px] min-h-[500px]"
            >
              <!-- 質問セクション -->
              <div class="c-question-section p-12 flex flex-col justify-center">
                <!-- ステップインジケーター -->
                <div
                  class="c-step-indicator flex items-center gap-2 mb-8 opacity-70"
                >
                  <div
                    class="c-step-dot w-2 h-2 rounded-full bg-text-gray transition-theme is-active:bg-primary-blue is-completed:bg-primary-emerald"
                    data-step="0"
                  >
                  </div>
                  <div
                    class="c-step-dot w-2 h-2 rounded-full bg-text-gray transition-theme"
                    data-step="1"
                  >
                  </div>
                  <div
                    class="c-step-dot w-2 h-2 rounded-full bg-text-gray transition-theme"
                    data-step="2"
                  >
                  </div>
                  <span
                    class="c-step-text text-sm text-text-gray ml-2 transition-theme"
                    >ステップ <span id="currentStep">1</span>/3</span
                  >
                </div>

                <!-- 質問内容 -->
                <div id="questionContent">
                  <h3
                    class="c-question-title text-2xl font-semibold mb-8 text-white dark:text-primary-dark leading-tight transition-theme"
                  >
                    コーディングするサイトの種類を選択してください
                  </h3>
                  <div class="c-options-grid grid gap-4 mb-8">
                    <div
                      class="c-option-card js-option-card glass-bg border-2 glass-border rounded-2xl p-6 cursor-pointer transition-theme relative overflow-hidden hover:border-primary-blue hover:transform hover:-translate-y-1 hover:shadow-soft before:content-[''] before:absolute before:top-0 before:-left-full before:w-full before:h-full before:gradient-primary before:opacity-10 before:transition-all before:duration-300 hover:before:left-0"
                      data-option="corporate"
                      data-price="45000"
                      data-next="pages"
                    >
                      <div
                        class="c-option-content flex justify-between items-center relative z-10"
                      >
                        <div class="c-option-info flex-1">
                          <h3
                            class="text-lg font-semibold mb-2 text-white dark:text-primary-dark transition-theme"
                          >
                            コーポレートサイト
                          </h3>
                          <p
                            class="text-sm text-text-gray dark:text-gray-600 leading-snug transition-theme"
                          >
                            企業情報・サービス紹介・会社案内など
                          </p>
                        </div>
                        <div
                          class="c-option-price text-xl font-bold text-accent-gold whitespace-nowrap ml-4"
                        >
                          ¥45,000〜
                        </div>
                      </div>
                    </div>
                    <div
                      class="c-option-card js-option-card glass-bg border-2 glass-border rounded-2xl p-6 cursor-pointer transition-theme relative overflow-hidden hover:border-primary-blue hover:transform hover:-translate-y-1 hover:shadow-soft before:content-[''] before:absolute before:top-0 before:-left-full before:w-full before:h-full before:gradient-primary before:opacity-10 before:transition-all before:duration-300 hover:before:left-0"
                      data-option="landing"
                      data-price="30000"
                      data-next="design"
                    >
                      <div
                        class="c-option-content flex justify-between items-center relative z-10"
                      >
                        <div class="c-option-info flex-1">
                          <h3
                            class="text-lg font-semibold mb-2 text-white dark:text-primary-dark transition-theme"
                          >
                            ランディングページ
                          </h3>
                          <p
                            class="text-sm text-text-gray dark:text-gray-600 leading-snug transition-theme"
                          >
                            1ページ完結の集客・販売促進サイト
                          </p>
                        </div>
                        <div
                          class="c-option-price text-xl font-bold text-accent-gold whitespace-nowrap ml-4"
                        >
                          ¥30,000〜
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 結果パネル -->
              <div
                class="c-result-panel glass-bg p-6 lg:p-8 flex flex-col justify-center border-t lg:border-t-0 lg:border-l glass-border transition-theme lg:order-none order-first"
              >
                <div class="c-result-header text-center mb-6">
                  <div
                    class="c-result-label text-lg font-semibold text-white dark:text-primary-dark mb-3 transition-theme"
                  >
                    概算コーディング料金
                  </div>
                  <div
                    class="c-result-price text-2xl lg:text-3xl xl:text-4xl font-bold gradient-primary bg-clip-text text-transparent mb-2 leading-none break-words"
                    id="totalPrice"
                  >
                    ¥0
                  </div>
                  <div
                    class="c-result-note text-xs text-text-gray mb-6 transition-theme"
                  >
                    ※税別・基本料金
                  </div>
                </div>

                <div class="c-selected-items mb-6" id="selectedItems">
                  <div
                    class="c-selected-item flex justify-between items-center py-2 border-b glass-border text-xs transition-theme"
                  >
                    <span
                      class="c-selected-item-name text-white dark:text-primary-dark flex-1 transition-theme text-xs"
                      >サイト種別を選択してください</span
                    >
                    <span
                      class="c-selected-item-price text-accent-gold font-semibold text-xs"
                      >¥0</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- CTA セクション -->
          <div class="c-cta-section text-center py-8">
            <p
              class="c-cta-text text-lg text-text-gray dark:text-gray-600 mb-6 transition-theme"
            >
              表示されている金額はコーディングの基本料金です。<br />
              詳細な機能やデザインのご要望をお聞かせください。
            </p>
            <div class="c-cta-buttons flex flex-col gap-4 items-center">
              <a
                href="#contact"
                class="c-button c-button--variant-filled inline-flex items-center px-8 py-4 border-none rounded-full text-lg font-semibold cursor-pointer transition-theme no-underline gap-2 gradient-primary text-white hover:transform hover:-translate-y-1 hover:shadow-soft"
              >
                💬 無料相談・詳細見積もり
              </a>
              <a
                href="#contact"
                class="c-button c-button--variant-secondary inline-flex items-center px-8 py-4 border-2 glass-border rounded-full text-lg font-semibold cursor-pointer transition-theme no-underline gap-2 glass-bg text-white dark:text-primary-dark hover:transform hover:-translate-y-1 hover:shadow-soft"
              >
                📋 お問い合わせフォーム
              </a>
            </div>
          </div>

          <!-- 免責事項 -->
          <div
            class="c-disclaimer mt-12 p-6 bg-yellow-500/10 border border-yellow-500/30 rounded-2xl text-center"
          >
            <div
              class="c-disclaimer-title text-lg font-semibold text-accent-gold mb-2"
            >
              💡 コーディング料金について
            </div>
            <div
              class="c-disclaimer-text text-sm text-text-gray dark:text-gray-600 leading-relaxed transition-theme"
            >
              上記は基本的なコーディング料金です。具体的なデザイン仕様・追加機能・納期などにより最終料金は変動いたします。
              お客様のご要望を詳しくお聞かせいただき、最適なプランをご提案させていただきます。
            </div>
          </div>
        </div>
      </section>

      <!-- Tech Stack -->
      <section
        class="c-tech-stack-showcase-section py-32 mb-8 transition-theme"
        style="background: var(--gradient-card)"
      >
        <div class="l-container max-w-6xl mx-auto px-8">
          <h2
            class="c-section-title c-section-title--theme-light text-center text-4xl font-light mb-12 text-white dark:text-primary-dark transition-theme"
          >
            Technology Stack
          </h2>
          <div
            class="c-tech-stack-showcase-section__grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-12"
          >
            <div
              class="c-technology-category glass-bg backdrop-blur-xl border glass-border rounded-2xl p-8 transition-theme"
            >
              <h3
                class="c-technology-category__title text-xl font-semibold mb-4 text-white dark:text-primary-dark transition-theme"
              >
                Frontend
              </h3>
              <div class="c-technology-category__tag-list flex flex-wrap gap-2">
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >HTML5</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >CSS3</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >JavaScript</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Astro</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Tailwind CSS</span
                >
              </div>
            </div>
            <div
              class="c-technology-category glass-bg backdrop-blur-xl border glass-border rounded-2xl p-8 transition-theme"
            >
              <h3
                class="c-technology-category__title text-xl font-semibold mb-4 text-white dark:text-primary-dark transition-theme"
              >
                Backend
              </h3>
              <div class="c-technology-category__tag-list flex flex-wrap gap-2">
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Node.js</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >PHP</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >WordPress</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >microCMS</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >API開発</span
                >
              </div>
            </div>
            <div
              class="c-technology-category glass-bg backdrop-blur-xl border glass-border rounded-2xl p-8 transition-theme"
            >
              <h3
                class="c-technology-category__title text-xl font-semibold mb-4 text-white dark:text-primary-dark transition-theme"
              >
                Design & Tools
              </h3>
              <div class="c-technology-category__tag-list flex flex-wrap gap-2">
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Figma</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Adobe XD</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Studio</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Adobe Creative</span
                >
              </div>
            </div>
            <div
              class="c-technology-category glass-bg backdrop-blur-xl border glass-border rounded-2xl p-8 transition-theme"
            >
              <h3
                class="c-technology-category__title text-xl font-semibold mb-4 text-white dark:text-primary-dark transition-theme"
              >
                Infrastructure
              </h3>
              <div class="c-technology-category__tag-list flex flex-wrap gap-2">
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Vercel</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Netlify</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >GitHub</span
                >
                <span
                  class="c-technology-tag glass-bg border glass-border rounded-2xl px-4 py-2 text-sm text-white dark:text-primary-dark transition-theme hover:bg-primary-blue hover:text-white hover:transform hover:scale-105"
                  >Docker</span
                >
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Latest Blog Posts -->
      <section
        id="blog-section"
        class="c-blog-posts-preview-section py-32 mt-8 transition-theme"
        style="background: var(--body-bg)"
      >
        <div class="l-container max-w-6xl mx-auto px-8">
          <div class="c-blog-posts-preview-section__header text-center mb-20">
            <h2
              class="c-section-title text-center text-4xl font-light gradient-primary bg-clip-text text-transparent mb-8"
            >
              Latest Blog Posts
            </h2>
          </div>
          <div
            class="c-blog-posts-preview-section__grid grid gap-16 items-start mb-12"
            style="grid-template-columns: repeat(auto-fit, minmax(380px, 1fr))"
          >
            <article
              class="c-blog-post-preview-card glass-bg backdrop-blur-xl border glass-border rounded-3xl p-12 my-4 transition-theme h-full flex flex-col relative overflow-hidden shadow-soft hover:transform hover:-translate-y-2 hover:shadow-glass hover:border-primary-blue before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:h-1 before:gradient-primary"
            >
              <div
                class="c-blog-post-preview-card__meta flex justify-between items-center mb-6 flex-wrap gap-4"
              >
                <time
                  class="c-blog-post-preview-card__date text-sm text-text-gray font-medium transition-theme"
                  >2025.05.28</time
                >
                <span
                  class="c-blog-post-preview-card__category bg-primary-blue text-white px-4 py-2 rounded-2xl text-xs font-semibold whitespace-nowrap"
                  >Web Development</span
                >
              </div>
              <h3
                class="c-blog-post-preview-card__title text-xl font-semibold mb-6 text-white dark:text-primary-dark leading-snug flex-grow-0 transition-theme"
              >
                Astroで高速サイトを作る方法
              </h3>
              <p
                class="c-blog-post-preview-card__excerpt text-text-gray dark:text-gray-600 leading-relaxed flex-grow text-sm transition-theme"
              >
                最新の静的サイトジェネレーターAstroを使用して、パフォーマンスに優れたWebサイトを構築する実践的な手法を解説します。ビルド時間の短縮とランタイムパフォーマンスの向上について詳しく説明します。
              </p>
              <div
                class="c-blog-post-preview-card__footer mt-8 pt-6 border-t glass-border transition-theme"
              >
                <a
                  href="#contact"
                  class="c-blog-post-preview-card__read-more text-accent-gold no-underline font-semibold text-sm transition-theme inline-flex items-center gap-2 hover:text-white dark:hover:text-primary-dark after:content-['→'] after:transition-transform after:duration-300 hover:after:transform hover:after:translate-x-1"
                  >詳しく読む</a
                >
              </div>
            </article>
            <article
              class="c-blog-post-preview-card glass-bg backdrop-blur-xl border glass-border rounded-3xl p-12 my-4 transition-theme h-full flex flex-col relative overflow-hidden shadow-soft hover:transform hover:-translate-y-2 hover:shadow-glass hover:border-primary-blue before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:h-1 before:gradient-primary"
            >
              <div
                class="c-blog-post-preview-card__meta flex justify-between items-center mb-6 flex-wrap gap-4"
              >
                <time
                  class="c-blog-post-preview-card__date text-sm text-text-gray font-medium transition-theme"
                  >2025.05.25</time
                >
                <span
                  class="c-blog-post-preview-card__category bg-primary-blue text-white px-4 py-2 rounded-2xl text-xs font-semibold whitespace-nowrap"
                  >Education</span
                >
              </div>
              <h3
                class="c-blog-post-preview-card__title text-xl font-semibold mb-6 text-white dark:text-primary-dark leading-snug flex-grow-0 transition-theme"
              >
                初心者向けFigma使い方ガイド
              </h3>
              <p
                class="c-blog-post-preview-card__excerpt text-text-gray dark:text-gray-600 leading-relaxed flex-grow text-sm transition-theme"
              >
                デザインツールFigmaの基本的な使い方から実践的なワークフローまで、初心者にもわかりやすく解説します。コンポーネント設計やプロトタイピングの効率的な手法も紹介。
              </p>
              <div
                class="c-blog-post-preview-card__footer mt-8 pt-6 border-t glass-border transition-theme"
              >
                <a
                  href="#contact"
                  class="c-blog-post-preview-card__read-more text-accent-gold no-underline font-semibold text-sm transition-theme inline-flex items-center gap-2 hover:text-white dark:hover:text-primary-dark after:content-['→'] after:transition-transform after:duration-300 hover:after:transform hover:after:translate-x-1"
                  >詳しく読む</a
                >
              </div>
            </article>
            <article
              class="c-blog-post-preview-card glass-bg backdrop-blur-xl border glass-border rounded-3xl p-12 my-4 transition-theme h-full flex flex-col relative overflow-hidden shadow-soft hover:transform hover:-translate-y-2 hover:shadow-glass hover:border-primary-blue before:content-[''] before:absolute before:top-0 before:left-0 before:right-0 before:h-1 before:gradient-primary"
            >
              <div
                class="c-blog-post-preview-card__meta flex justify-between items-center mb-6 flex-wrap gap-4"
              >
                <time
                  class="c-blog-post-preview-card__date text-sm text-text-gray font-medium transition-theme"
                  >2025.05.22</time
                >
                <span
                  class="c-blog-post-preview-card__category bg-primary-blue text-white px-4 py-2 rounded-2xl text-xs font-semibold whitespace-nowrap"
                  >Technology</span
                >
              </div>
              <h3
                class="c-blog-post-preview-card__title text-xl font-semibold mb-6 text-white dark:text-primary-dark leading-snug flex-grow-0 transition-theme"
              >
                レスポンシブデザインのベストプラクティス
              </h3>
              <p
                class="c-blog-post-preview-card__excerpt text-text-gray dark:text-gray-600 leading-relaxed flex-grow text-sm transition-theme"
              >
                モバイルファーストなレスポンシブデザインの実装について、実際のコード例とともに詳しく解説します。ブレークポイントの設計からパフォーマンス最適化まで網羅的に説明。
              </p>
              <div
                class="c-blog-post-preview-card__footer mt-8 pt-6 border-t glass-border transition-theme"
              >
                <a
                  href="#contact"
                  class="c-blog-post-preview-card__read-more text-accent-gold no-underline font-semibold text-sm transition-theme inline-flex items-center gap-2 hover:text-white dark:hover:text-primary-dark after:content-['→'] after:transition-transform after:duration-300 hover:after:transform hover:after:translate-x-1"
                  >詳しく読む</a
                >
              </div>
            </article>
          </div>

          <!-- ブログ一覧へのCTAボタン -->
          <div class="c-blog-cta text-center">
            <a
              href="/creative-lab/blog/"
              class="c-button c-button--variant-filled inline-flex items-center px-8 py-4 border-none rounded-full text-lg font-semibold cursor-pointer transition-theme no-underline gap-2 gradient-primary text-white hover:transform hover:-translate-y-1 hover:shadow-soft"
            >
              📰 すべての記事を見る
            </a>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section
        id="contact"
        class="c-contact-section py-32 mt-8 transition-theme"
        style="background: var(--gradient-card)"
      >
        <div class="l-container max-w-4xl mx-auto px-8">
          <div class="c-contact-section__content max-w-3xl mx-auto">
            <h2
              class="c-contact-section__title text-4xl font-light mb-6 text-white dark:text-primary-dark text-center transition-theme"
            >
              お問い合わせ
            </h2>
            <p
              class="c-contact-section__description text-lg text-text-gray dark:text-gray-600 mb-12 leading-relaxed text-center transition-theme"
            >
              Web制作から技術教育まで、お気軽にご相談ください。<br />
              お客様のニーズに合わせて最適なソリューションをご提案いたします。
            </p>

            <div
              class="c-contact-section__grid grid lg:grid-cols-3 gap-8 mb-12"
            >
              <div
                class="c-contact-info-card glass-bg backdrop-blur-xl border glass-border rounded-3xl p-8 text-center transition-theme hover:transform hover:-translate-y-2 hover:shadow-glass"
              >
                <span class="c-contact-info-card__icon text-5xl mb-4 block"
                  >🌐</span
                >
                <h3
                  class="c-contact-info-card__title text-xl font-semibold mb-4 text-white dark:text-primary-dark transition-theme"
                >
                  Web制作のご相談
                </h3>
                <p
                  class="c-contact-info-card__description text-text-gray dark:text-gray-600 mb-6 leading-relaxed transition-theme"
                >
                  コーポレートサイトやランディングページの制作、
                  既存サイトの改善についてご相談ください。
                </p>
              </div>
              <div
                class="c-contact-info-card glass-bg backdrop-blur-xl border glass-border rounded-3xl p-8 text-center transition-theme hover:transform hover:-translate-y-2 hover:shadow-glass"
              >
                <span class="c-contact-info-card__icon text-5xl mb-4 block"
                  >🎓</span
                >
                <h3
                  class="c-contact-info-card__title text-xl font-semibold mb-4 text-white dark:text-primary-dark transition-theme"
                >
                  技術研修のご依頼
                </h3>
                <p
                  class="c-contact-info-card__description text-text-gray dark:text-gray-600 mb-6 leading-relaxed transition-theme"
                >
                  HTML/CSS、JavaScript等の技術研修や
                  個人メンタリングについてお問い合わせください。
                </p>
              </div>
              <div
                class="c-contact-info-card glass-bg backdrop-blur-xl border glass-border rounded-3xl p-8 text-center transition-theme hover:transform hover:-translate-y-2 hover:shadow-glass"
              >
                <span class="c-contact-info-card__icon text-5xl mb-4 block"
                  >💡</span
                >
                <h3
                  class="c-contact-info-card__title text-xl font-semibold mb-4 text-white dark:text-primary-dark transition-theme"
                >
                  その他のご相談
                </h3>
                <p
                  class="c-contact-info-card__description text-text-gray dark:text-gray-600 mb-6 leading-relaxed transition-theme"
                >
                  技術的なご質問や新しいプロジェクトのアイデアなど、
                  どんなことでもお気軽にご相談ください。
                </p>
              </div>
            </div>

            <div
              class="c-contact-form glass-bg backdrop-blur-xl border glass-border rounded-3xl p-12 mt-8 transition-theme"
            >
              <h3
                class="c-contact-form__title text-2xl font-semibold mb-8 text-white dark:text-primary-dark text-center transition-theme"
              >
                お問い合わせフォーム
              </h3>
              <form>
                <div class="c-form-group mb-6">
                  <label
                    for="name"
                    class="c-form-label block font-semibold mb-2 text-white dark:text-primary-dark transition-theme"
                    >お名前 *</label
                  >
                  <input
                    type="text"
                    id="name"
                    name="name"
                    class="c-form-input w-full p-4 glass-bg border glass-border rounded-xl text-white dark:text-primary-dark text-lg transition-theme focus:outline-none focus:border-primary-blue placeholder-text-gray"
                    placeholder="山田太郎"
                    required
                  />
                </div>

                <div class="c-form-group mb-6">
                  <label
                    for="email"
                    class="c-form-label block font-semibold mb-2 text-white dark:text-primary-dark transition-theme"
                    >メールアドレス *</label
                  >
                  <input
                    type="email"
                    id="email"
                    name="email"
                    class="c-form-input w-full p-4 glass-bg border glass-border rounded-xl text-white dark:text-primary-dark text-lg transition-theme focus:outline-none focus:border-primary-blue placeholder-text-gray"
                    placeholder="example@email.com"
                    required
                  />
                </div>

                <div class="c-form-group mb-6">
                  <label
                    for="company"
                    class="c-form-label block font-semibold mb-2 text-white dark:text-primary-dark transition-theme"
                    >会社名・組織名</label
                  >
                  <input
                    type="text"
                    id="company"
                    name="company"
                    class="c-form-input w-full p-4 glass-bg border glass-border rounded-xl text-white dark:text-primary-dark text-lg transition-theme focus:outline-none focus:border-primary-blue placeholder-text-gray"
                    placeholder="株式会社サンプル"
                  />
                </div>

                <div class="c-form-group mb-6">
                  <label
                    for="service"
                    class="c-form-label block font-semibold mb-2 text-white dark:text-primary-dark transition-theme"
                    >ご相談内容</label
                  >
                  <select
                    id="service"
                    name="service"
                    class="c-form-select w-full p-4 glass-bg border glass-border rounded-xl text-white dark:text-primary-dark text-lg transition-theme focus:outline-none focus:border-primary-blue cursor-pointer"
                  >
                    <option value="">選択してください</option>
                    <option value="web-development">Web制作</option>
                    <option value="technical-education">技術研修・教育</option>
                    <option value="consultation">技術相談</option>
                    <option value="other">その他</option>
                  </select>
                </div>

                <div class="c-form-group mb-6">
                  <label
                    for="message"
                    class="c-form-label block font-semibold mb-2 text-white dark:text-primary-dark transition-theme"
                    >詳細・ご要望 *</label
                  >
                  <textarea
                    id="message"
                    name="message"
                    class="c-form-textarea w-full p-4 glass-bg border glass-border rounded-xl text-white dark:text-primary-dark text-lg transition-theme focus:outline-none focus:border-primary-blue placeholder-text-gray resize-vertical min-h-[120px]"
                    placeholder="プロジェクトの詳細やご要望をお聞かせください"
                    required></textarea>
                </div>

                <button
                  type="submit"
                  class="c-form-submit w-full px-8 py-4 gradient-primary border-none rounded-full text-white text-lg font-semibold cursor-pointer transition-theme hover:transform hover:-translate-y-1 hover:shadow-soft"
                >
                  送信する
                </button>
              </form>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer
      class="l-footer bg-primary-dark dark:bg-gray-900 py-12 px-8 border-t border-white/20 dark:border-gray-200 transition-theme"
    >
      <div class="l-container max-w-6xl mx-auto">
        <div class="c-footer-content grid md:grid-cols-2 lg:grid-cols-4 gap-8">
          <div class="c-footer-content__section">
            <h3
              class="c-footer-content__title text-text-light mb-4 text-xl font-bold"
            >
              Creative Lab
            </h3>
            <p
              class="c-footer-content__description text-text-gray leading-relaxed"
            >
              Technology × Creativity で<br />
              新しい価値を創造します
            </p>
          </div>
          <div class="c-footer-content__section">
            <h4
              class="c-footer-content__label text-text-light mb-4 text-lg font-semibold uppercase tracking-wide"
            >
              Services
            </h4>
            <ul class="c-footer-navigation-list list-none">
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="#pricing-simulator"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >コーディング料金</a
                >
              </li>
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="#services"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >技術教育</a
                >
              </li>
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="#services"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >Web Development</a
                >
              </li>
            </ul>
          </div>
          <div class="c-footer-content__section">
            <h4
              class="c-footer-content__label text-text-light mb-4 text-lg font-semibold uppercase tracking-wide"
            >
              Navigation
            </h4>
            <ul class="c-footer-navigation-list list-none">
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="#services"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >Services</a
                >
              </li>
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="#blog-section"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >Blog</a
                >
              </li>
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="#contact"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >Contact</a
                >
              </li>
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="/"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >Main Site</a
                >
              </li>
            </ul>
          </div>
          <div class="c-footer-content__section">
            <h4
              class="c-footer-content__label text-text-light mb-4 text-lg font-semibold uppercase tracking-wide"
            >
              Connect
            </h4>
            <ul class="c-footer-navigation-list list-none">
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="#contact"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >お問い合わせ</a
                >
              </li>
              <li class="c-footer-navigation-list__item mb-2">
                <a
                  href="#pricing-simulator"
                  class="c-footer-navigation-list__link text-text-gray no-underline block transition-colors duration-300 hover:text-accent-gold"
                  >料金シミュレーター</a
                >
              </li>
            </ul>
          </div>
        </div>
        <div
          class="c-footer-content__bottom mt-8 pt-8 border-t border-white/20 dark:border-gray-200 text-center"
        >
          <p class="c-copyright text-text-gray text-sm">
            &copy; 2025 髙島春樹 Creative Lab. All rights reserved.
          </p>
        </div>
      </div>
    </footer>

    <script>
      // 元のJavaScriptを完全移植

      // テーマ管理クラス
      class CreativeLabThemeManager {
        constructor() {
          this.currentTheme = "standard";
          this.themeToggle = document.getElementById("themeToggle");
          this.themeText = this.themeToggle.querySelector(
            ".c-theme-toggle-button__text"
          );
          this.themeIcon = this.themeToggle.querySelector(
            ".c-theme-toggle-button__icon"
          );

          this.loadSavedTheme();
          this.setupEventListeners();
        }

        setupEventListeners() {
          this.themeToggle.addEventListener("click", () => {
            this.toggleTheme();
          });
        }

        toggleTheme() {
          if (this.currentTheme === "standard") {
            this.applyTheme("light");
          } else {
            this.applyTheme("standard");
          }
        }

        applyTheme(theme) {
          this.currentTheme = theme;

          if (theme === "light") {
            document.documentElement.setAttribute("data-theme", "light");
            this.themeText.textContent = "ダーク";
            this.themeIcon.textContent = "🌙";
            this.showThemeNotification("ライトテーマに切り替えました");
          } else {
            document.documentElement.removeAttribute("data-theme");
            this.themeText.textContent = "ライト";
            this.themeIcon.textContent = "🌟";
            this.showThemeNotification("ダークテーマに切り替えました");
          }

          this.saveTheme(theme);
        }

        saveTheme(theme) {
          try {
            sessionStorage.setItem("creativeLabTheme", theme);
          } catch (e) {
            console.log("テーマの保存をスキップしました");
          }
        }

        loadSavedTheme() {
          try {
            const savedTheme = sessionStorage.getItem("creativeLabTheme");
            if (savedTheme && savedTheme === "light") {
              this.applyTheme("light");
            }
          } catch (e) {
            console.log("保存されたテーマの読み込みをスキップしました");
          }
        }

        showThemeNotification(message) {
          const notification = document.createElement("div");
          notification.style.cssText = `
            position: fixed;
            top: 150px;
            right: 2rem;
            background: var(--card-bg);
            color: var(--body-color);
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            box-shadow: var(--shadow-soft);
            z-index: 10000;
            border: 1px solid var(--accent-gold);
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
          `;
          notification.textContent = message;

          document.body.appendChild(notification);

          setTimeout(() => {
            notification.style.opacity = "1";
            notification.style.transform = "translateX(0)";
          }, 100);

          setTimeout(() => {
            notification.style.opacity = "0";
            notification.style.transform = "translateX(100%)";
            setTimeout(() => {
              if (document.body.contains(notification)) {
                document.body.removeChild(notification);
              }
            }, 300);
          }, 3000);
        }
      }

      // モバイルメニュー
      const mobileMenuBtn = document.getElementById("mobileMenuBtn");
      const mobileNav = document.getElementById("mobileNav");

      mobileMenuBtn.addEventListener("click", () => {
        const isOpen = mobileNav.classList.contains("translate-x-0");

        if (isOpen) {
          closeMobileMenu();
        } else {
          openMobileMenu();
        }
      });

      function openMobileMenu() {
        mobileNav.classList.remove("-left-full");
        mobileNav.classList.add("left-0");
        mobileMenuBtn.textContent = "✕";
        document.body.style.overflow = "hidden";
      }

      function closeMobileMenu() {
        mobileNav.classList.add("-left-full");
        mobileNav.classList.remove("left-0");
        mobileMenuBtn.textContent = "☰";
        document.body.style.overflow = "";
      }

      // ヘッダースクロール効果
      window.addEventListener("scroll", () => {
        const header = document.querySelector(".l-header");
        if (window.scrollY > 100) {
          header.classList.add("is-scrolled");
        } else {
          header.classList.remove("is-scrolled");
        }
      });

      // スムーズスクロール
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            const headerHeight =
              document.querySelector(".l-header")?.offsetHeight || 80;
            let targetPosition;

            // #topまたは#の場合はページトップへ
            if (
              this.getAttribute("href") === "#top" ||
              this.getAttribute("href") === "#"
            ) {
              targetPosition = 0;
            } else {
              targetPosition = target.offsetTop - headerHeight;
            }

            window.scrollTo({
              top: targetPosition,
              behavior: "smooth",
            });

            if (mobileNav.classList.contains("left-0")) {
              closeMobileMenu();
            }
          }
        });
      });

      // コードアニメーション
      const initCodeAnimation = async () => {
        const container = document.querySelector(".c-code-animation");
        if (!container) return;

        const codeLines = container.querySelectorAll(".c-code-animation__line");

        if (codeLines.length === 0) return;

        await new Promise((resolve) => setTimeout(resolve, 500));

        const firstLine = codeLines[0];
        const firstText = firstLine.getAttribute("data-text");
        await typeWriter(firstLine, firstText, 50);

        const approximateWidth = "500px";
        container.style.minWidth = approximateWidth;
        container.style.maxWidth = approximateWidth;

        await new Promise((resolve) => setTimeout(resolve, 300));
        removeCursor(firstLine);
        await new Promise((resolve) => setTimeout(resolve, 100));

        for (let i = 1; i < codeLines.length; i++) {
          const line = codeLines[i];
          const text = line.getAttribute("data-text");

          await typeWriter(line, text, 50);

          if (i < codeLines.length - 1) {
            await new Promise((resolve) => setTimeout(resolve, 300));
            removeCursor(line);
            await new Promise((resolve) => setTimeout(resolve, 100));
          }
        }

        if (codeLines.length > 0) {
          const lastLine = codeLines[codeLines.length - 1];
          await new Promise((resolve) => setTimeout(resolve, 500));
          removeCursor(lastLine);
          lastLine.classList.add("is-typed-complete");
        }
      };

      const typeWriter = (element, text, speed = 50) => {
        return new Promise((resolve) => {
          element.style.opacity = "1";
          let i = 0;
          let displayText = "";

          const cursor = document.createElement("span");
          cursor.className = "c-code-animation__cursor";
          cursor.textContent = "|";
          cursor.style.cssText = `
            color: #10b981;
            animation: blink 1s infinite;
            position: absolute;
            margin-left: 2px;
          `;

          const timer = setInterval(() => {
            if (i < text.length) {
              displayText += text.charAt(i);
              element.innerHTML = displayText;
              element.appendChild(cursor);
              i++;
            } else {
              clearInterval(timer);
              resolve();
            }
          }, speed);
        });
      };

      const removeCursor = (element) => {
        const cursor = element.querySelector(".c-code-animation__cursor");
        if (cursor) {
          cursor.remove();
        }
      };

      // コーディング料金シミュレーター
      const questions = [
        {
          id: "type",
          title: "コーディングするサイトの種類を選択してください",
          options: [
            {
              id: "corporate",
              name: "コーポレートサイト",
              description: "企業情報・サービス紹介・会社案内など",
              price: 45000,
              next: "pages",
            },
            {
              id: "landing",
              name: "ランディングページ",
              description: "1ページ完結の集客・販売促進サイト",
              price: 30000,
              next: "design",
            },
          ],
        },
        {
          id: "pages",
          title: "ページ数はどのくらいを想定していますか？",
          options: [
            {
              id: "small",
              name: "5ページ以下",
              description: "トップ・会社概要・サービス・お問い合わせなど",
              price: 0,
              next: "features",
            },
            {
              id: "medium",
              name: "6-10ページ",
              description: "基本ページ + 詳細ページ・ブログなど",
              price: 20000,
              next: "features",
            },
            {
              id: "large",
              name: "11ページ以上",
              description: "充実したコンテンツ・多言語対応など",
              price: 40000,
              next: "features",
            },
          ],
        },
        {
          id: "design",
          title: "デザインの複雑度はどの程度ですか？",
          options: [
            {
              id: "simple-design",
              name: "シンプル",
              description: "テキスト中心・画像数枚程度",
              price: 0,
              next: "features",
            },
            {
              id: "standard-design",
              name: "標準",
              description: "画像多数・スライダーやモーダル含む",
              price: 15000,
              next: "features",
            },
            {
              id: "complex-design",
              name: "高度",
              description: "複雑なレイアウト・アニメーション多数",
              price: 30000,
              next: "features",
            },
          ],
        },
        {
          id: "features",
          title: "重視したい機能・要素を選択してください",
          options: [
            {
              id: "basic",
              name: "シンプル・基本機能",
              description: "お問い合わせフォーム・レスポンシブ対応",
              price: 0,
              next: "complete",
            },
            {
              id: "advanced",
              name: "高機能・インタラクティブ",
              description: "JavaScript多用・複雑なアニメーション",
              price: 25000,
              next: "complete",
            },
            {
              id: "premium",
              name: "プレミアム・オリジナル",
              description: "オリジナル機能・高度なインタラクション",
              price: 50000,
              next: "complete",
            },
          ],
        },
      ];

      // 状態管理
      let currentQuestionIndex = 0;
      let selectedOptions = [];
      let totalPrice = 0;

      // DOM要素
      const questionContent = document.getElementById("questionContent");
      const totalPriceElement = document.getElementById("totalPrice");
      const selectedItemsElement = document.getElementById("selectedItems");
      const currentStepElement = document.getElementById("currentStep");

      // 価格フォーマット
      const formatPrice = (price) => {
        return new Intl.NumberFormat("ja-JP", {
          style: "currency",
          currency: "JPY",
          minimumFractionDigits: 0,
        }).format(price);
      };

      // ステップ更新
      const updateStep = (step) => {
        const dots = document.querySelectorAll(".c-step-dot");
        dots.forEach((dot, index) => {
          const dotStep = parseInt(dot.dataset.step);
          if (dotStep < step) {
            dot.classList.add("bg-primary-emerald");
            dot.classList.remove("bg-primary-blue", "bg-text-gray");
          } else if (dotStep === step) {
            dot.classList.add("bg-primary-blue");
            dot.classList.remove("bg-primary-emerald", "bg-text-gray");
          } else {
            dot.classList.remove("bg-primary-blue", "bg-primary-emerald");
            dot.classList.add("bg-text-gray");
          }
        });
        currentStepElement.textContent = step + 1;
      };

      // 見積もり更新
      const updateEstimate = () => {
        totalPrice = selectedOptions.reduce(
          (sum, option) => sum + option.price,
          0
        );
        totalPriceElement.textContent = formatPrice(totalPrice);

        if (selectedOptions.length === 0) {
          selectedItemsElement.innerHTML = `
          <div class="c-selected-item flex justify-between items-center py-2 border-b glass-border text-xs transition-theme">
            <span class="c-selected-item-name text-white dark:text-primary-dark flex-1 transition-theme text-xs">サイト種別を選択してください</span>
            <span class="c-selected-item-price text-accent-gold font-semibold text-xs">¥0</span>
          </div>
        `;
        } else {
          selectedItemsElement.innerHTML = selectedOptions
            .map(
              (option) => `
          <div class="c-selected-item flex justify-between items-center py-2 border-b glass-border text-xs transition-theme">
            <span class="c-selected-item-name text-white dark:text-primary-dark flex-1 transition-theme text-xs">${
              option.name
            }</span>
            <span class="c-selected-item-price text-accent-gold font-semibold text-xs">${formatPrice(
              option.price
            )}</span>
          </div>
        `
            )
            .join("");

          if (currentQuestionIndex >= questions.length) {
            selectedItemsElement.innerHTML += `
            <div class="c-selected-item flex justify-between items-center py-2 mt-4 pt-4 border-t-2 border-primary-blue text-xs">
              <span class="c-selected-item-name text-primary-blue font-semibold flex-1 text-xs">合計金額</span>
              <span class="c-selected-item-price text-accent-gold text-sm font-bold">${formatPrice(
                totalPrice
              )}</span>
            </div>
          `;
          }
        }
      };

      // 質問表示
      const showQuestion = (questionIndex) => {
        if (questionIndex >= questions.length) {
          showComplete();
          return;
        }

        const question = questions[questionIndex];
        const questionHTML = `
        <h3 class="c-question-title text-2xl font-semibold mb-8 text-white dark:text-primary-dark leading-tight transition-theme">${
          question.title
        }</h3>
        <div class="c-options-grid grid gap-4 mb-8">
          ${question.options
            .map(
              (option) => `
            <div class="c-option-card js-option-card glass-bg border-2 glass-border rounded-2xl p-6 cursor-pointer transition-theme relative overflow-hidden hover:border-primary-blue hover:transform hover:-translate-y-1 hover:shadow-soft before:content-[''] before:absolute before:top-0 before:-left-full before:w-full before:h-full before:gradient-primary before:opacity-10 before:transition-all before:duration-300 hover:before:left-0" data-option="${
              option.id
            }" data-price="${option.price}" data-next="${option.next}">
              <div class="c-option-content flex justify-between items-center relative z-10">
                <div class="c-option-info flex-1">
                  <h3 class="text-lg font-semibold mb-2 text-white dark:text-primary-dark transition-theme">${
                    option.name
                  }</h3>
                  <p class="text-sm text-text-gray dark:text-gray-600 leading-snug transition-theme">${
                    option.description
                  }</p>
                </div>
                <div class="c-option-price text-xl font-bold text-accent-gold whitespace-nowrap ml-4">${formatPrice(
                  option.price
                )}</div>
              </div>
            </div>
          `
            )
            .join("")}
        </div>
      `;

        questionContent.innerHTML = questionHTML;
        updateStep(questionIndex);

        const optionCards = questionContent.querySelectorAll(".js-option-card");
        optionCards.forEach((card) => {
          card.addEventListener("click", () => {
            const optionId = card.dataset.option;
            const price = parseInt(card.dataset.price);
            const optionData = question.options.find(
              (opt) => opt.id === optionId
            );

            optionCards.forEach((c) =>
              c.classList.remove("border-primary-blue")
            );
            card.classList.add("border-primary-blue");

            selectedOptions[questionIndex] = {
              questionId: question.id,
              ...optionData,
            };

            updateEstimate();

            setTimeout(() => {
              currentQuestionIndex++;

              const nextQuestionId = optionData.next;
              if (nextQuestionId === "complete") {
                showComplete();
              } else {
                const nextQuestion = questions.find(
                  (q) => q.id === nextQuestionId
                );
                const nextIndex = questions.indexOf(nextQuestion);
                currentQuestionIndex = nextIndex;
                showQuestion(currentQuestionIndex);
              }
            }, 500);
          });
        });

        setTimeout(() => {
          optionCards.forEach((card, index) => {
            card.style.animation = `fadeInUp 0.6s ease ${index * 0.1}s both`;
          });
        }, 100);
      };

      // 完了画面
      const showComplete = () => {
        const completeHTML = `
        <div class="text-center py-8">
          <div class="text-6xl mb-4">🎉</div>
          <h3 class="c-question-title text-2xl font-semibold mb-4 text-white dark:text-primary-dark transition-theme">コーディング見積もり完了！</h3>
          <p class="text-text-gray dark:text-gray-600 text-lg mb-8 transition-theme">
            基本コーディング料金は <strong class="text-accent-gold">${formatPrice(
              totalPrice
            )}</strong> です。<br>
            詳細なご要望をお聞かせください。
          </p>
          <div class="flex flex-col gap-4 items-center">
            <a href="#contact" class="c-button c-button--variant-filled inline-flex items-center px-8 py-4 border-none rounded-full text-lg font-semibold cursor-pointer transition-theme no-underline gap-2 gradient-primary text-white hover:transform hover:-translate-y-1 hover:shadow-soft animate-pulse">
              💬 今すぐ無料相談
            </a>
            <button onclick="restart()" class="c-button c-button--variant-secondary inline-flex items-center px-8 py-4 border-2 glass-border rounded-full text-lg font-semibold cursor-pointer transition-theme gap-2 glass-bg text-white dark:text-primary-dark hover:transform hover:-translate-y-1 hover:shadow-soft">
              🔄 もう一度試す
            </button>
          </div>
        </div>
      `;

        questionContent.innerHTML = completeHTML;
        updateStep(3);
      };

      // リスタート
      const restart = () => {
        currentQuestionIndex = 0;
        selectedOptions = [];
        totalPrice = 0;
        updateEstimate();
        showQuestion(0);
      };

      // 初期化
      document.addEventListener("DOMContentLoaded", () => {
        new CreativeLabThemeManager();
        initCodeAnimation();
        updateEstimate();
        showQuestion(0);
      });

      // グローバル関数として公開
      window.restart = restart;
      window.closeMobileMenu = closeMobileMenu;
    </script>
  </body>
</html>
